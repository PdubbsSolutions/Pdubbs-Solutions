{"ast":null,"code":"const express=require('express');const{createTransport}=require('nodemailer');const{config}=require('dotenv');const app=express();// Load environment variables\nconfig();// Middleware for parsing JSON body\napp.use(express.json());// Authentication middleware\nfunction ensureAuthenticated(req,res,next){if(req.isAuthenticated()){return next();}else{res.status(401).send('Unauthorized');}}// Route for booking session\napp.post('/bookSession',ensureAuthenticated,async(req,res)=>{const{email,name,date,time}=req.body;// Set up the transporter\nlet transporter=createTransport({service:'Gmail',auth:{user:process.env.EMAIL_USER,pass:process.env.EMAIL_PASS}});// Define the mail options\nconst mailOptions={from:process.env.EMAIL_USER,to:email,subject:'Session Booking Confirmation',text:`Hello ${name},\\n\\nYour session has been booked for ${date} at ${time}.\\n\\nThank you!`};// Send the email\ntry{await transporter.sendMail(mailOptions);res.send('Session booked successfully');}catch(error){res.status(500).send('Error booking session');}});// Route for partnership request\napp.post('/requestPartnership',ensureAuthenticated,(req,res)=>{const{companyName}=req.body;if(!companyName){return res.status(400).send('Company name is required');}res.send(`Partnership request received from ${companyName}`);});// Start server\nconst PORT=process.env.PORT||5000;app.listen(PORT,()=>{console.log(`Server running on port ${PORT}`);});//*Client Side*\\\\\ndocument.addEventListener(\"DOMContentLoaded\",function(){const customRequestForm=document.querySelector(\"#requestDocument form\");const bookSessionForm=document.querySelector(\"#bookSession form\");const partnershipForm=document.querySelector(\"#requestPartnership form\");// Handle form submissions\nif(customRequestForm){customRequestForm.addEventListener(\"submit\",function(event){event.preventDefault();// Add your form submission logic here (e.g., AJAX)\n});}if(bookSessionForm){bookSessionForm.addEventListener(\"submit\",function(event){event.preventDefault();// Add your form submission logic here (e.g., AJAX)\n});}if(partnershipForm){partnershipForm.addEventListener(\"submit\",function(event){event.preventDefault();// Add your form submission logic here (e.g., AJAX)\n});}// Toggle visibility of request sections\nconst requestDocument=document.getElementById('requestDocument');const requestPartnership=document.getElementById('requestPartnership');const requestSession=document.getElementById('requestSession');if(requestDocument)requestDocument.classList.toggle('active');if(requestPartnership)requestPartnership.classList.toggle('active');if(requestSession)requestSession.classList.toggle('active');// Update page content dynamically\nconst header=document.querySelector('h1');if(header)header.textContent=\"Pdubbs Solutions\";// Handle button click\nconst button=document.querySelector('button');if(button){button.addEventListener('click',()=>{alert('Button Clicked!');});}// Form validation for name\nconst form=document.querySelector('form');if(form){form.addEventListener('submit',e=>{const name=document.querySelector('#name').value;if(name===\"\"){alert('Name is required');e.preventDefault();}});}// Fetch example data\nfetch('https://api.example.com/data').then(response=>response.json()).then(data=>console.log(data)).catch(error=>console.error('Error:',error));// Store username in localStorage\nlocalStorage.setItem('username','PDubb Solutions');const username=localStorage.getItem('username');console.log(username);// Debounced scroll event\nfunction debounce(func,delay){let timeout;return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}clearTimeout(timeout);timeout=setTimeout(()=>func.apply(this,args),delay);};}window.addEventListener('scroll',debounce(()=>{console.log('Scrolled!');},200));// Logout functionality\ndocument.getElementById('logoutButton').addEventListener('click',()=>{localStorage.removeItem('authToken');localStorage.removeItem('userId');window.location.href='login.php';});});","map":{"version":3,"names":["express","require","createTransport","config","app","use","json","ensureAuthenticated","req","res","next","isAuthenticated","status","send","post","email","name","date","time","body","transporter","service","auth","user","process","env","EMAIL_USER","pass","EMAIL_PASS","mailOptions","from","to","subject","text","sendMail","error","companyName","PORT","listen","console","log","document","addEventListener","customRequestForm","querySelector","bookSessionForm","partnershipForm","event","preventDefault","requestDocument","getElementById","requestPartnership","requestSession","classList","toggle","header","textContent","button","alert","form","e","value","fetch","then","response","data","catch","localStorage","setItem","username","getItem","debounce","func","delay","timeout","_len","arguments","length","args","Array","_key","clearTimeout","setTimeout","apply","window","removeItem","location","href"],"sources":["C:/Users/PW Admin Solutions/source/repos/Pdubbs-final/src/index.mjs"],"sourcesContent":["const express = require('express');\nconst { createTransport } = require('nodemailer');\nconst { config } = require('dotenv');\nconst app = express();\n\n// Load environment variables\nconfig();\n\n// Middleware for parsing JSON body\napp.use(express.json());\n\n// Authentication middleware\nfunction ensureAuthenticated(req, res, next) {\n\tif (req.isAuthenticated()) {\n\t\treturn next();\n\t} else {\n\t\tres.status(401).send('Unauthorized');\n\t}\n}\n\n// Route for booking session\napp.post('/bookSession', ensureAuthenticated, async (req, res) => {\n\tconst { email, name, date, time } = req.body;\n\n\t// Set up the transporter\n\tlet transporter = createTransport({\n\t\tservice: 'Gmail',\n\t\tauth: {\n\t\t\tuser: process.env.EMAIL_USER,\n\t\t\tpass: process.env.EMAIL_PASS\n\t\t}\n\t});\n\n\t// Define the mail options\n\tconst mailOptions = {\n\t\tfrom: process.env.EMAIL_USER,\n\t\tto: email,\n\t\tsubject: 'Session Booking Confirmation',\n\t\ttext: `Hello ${name},\\n\\nYour session has been booked for ${date} at ${time}.\\n\\nThank you!`\n\t};\n\n\t// Send the email\n\ttry {\n\t\tawait transporter.sendMail(mailOptions);\n\t\tres.send('Session booked successfully');\n\t} catch (error) {\n\t\tres.status(500).send('Error booking session');\n\t}\n});\n\n// Route for partnership request\napp.post('/requestPartnership', ensureAuthenticated, (req, res) => {\n\tconst { companyName } = req.body;\n\tif (!companyName) {\n\t\treturn res.status(400).send('Company name is required');\n\t}\n\tres.send(`Partnership request received from ${companyName}`);\n});\n\n// Start server\nconst PORT = process.env.PORT || 5000;\napp.listen(PORT, () => {\n\tconsole.log(`Server running on port ${PORT}`);\n});\n\n//*Client Side*\\\\\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n\tconst customRequestForm = document.querySelector(\"#requestDocument form\");\n\tconst bookSessionForm = document.querySelector(\"#bookSession form\");\n\tconst partnershipForm = document.querySelector(\"#requestPartnership form\");\n\n\t// Handle form submissions\n\tif (customRequestForm) {\n\t\tcustomRequestForm.addEventListener(\"submit\", function (event) {\n\t\t\tevent.preventDefault();\n\t\t\t// Add your form submission logic here (e.g., AJAX)\n\t\t});\n\t}\n\n\tif (bookSessionForm) {\n\t\tbookSessionForm.addEventListener(\"submit\", function (event) {\n\t\t\tevent.preventDefault();\n\t\t\t// Add your form submission logic here (e.g., AJAX)\n\t\t});\n\t}\n\n\tif (partnershipForm) {\n\t\tpartnershipForm.addEventListener(\"submit\", function (event) {\n\t\t\tevent.preventDefault();\n\t\t\t// Add your form submission logic here (e.g., AJAX)\n\t\t});\n\t}\n\n\t// Toggle visibility of request sections\n\tconst requestDocument = document.getElementById('requestDocument');\n\tconst requestPartnership = document.getElementById('requestPartnership');\n\tconst requestSession = document.getElementById('requestSession');\n\n\tif (requestDocument) requestDocument.classList.toggle('active');\n\tif (requestPartnership) requestPartnership.classList.toggle('active');\n\tif (requestSession) requestSession.classList.toggle('active');\n\n\t// Update page content dynamically\n\tconst header = document.querySelector('h1');\n\tif (header) header.textContent = \"Pdubbs Solutions\";\n\n\t// Handle button click\n\tconst button = document.querySelector('button');\n\tif (button) {\n\t\tbutton.addEventListener('click', () => {\n\t\t\talert('Button Clicked!');\n\t\t});\n\t}\n\n\t// Form validation for name\n\tconst form = document.querySelector('form');\n\tif (form) {\n\t\tform.addEventListener('submit', (e) => {\n\t\t\tconst name = document.querySelector('#name').value;\n\t\t\tif (name === \"\") {\n\t\t\t\talert('Name is required');\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t});\n\t}\n\n\t// Fetch example data\n\tfetch('https://api.example.com/data')\n\t\t.then(response => response.json())\n\t\t.then(data => console.log(data))\n\t\t.catch(error => console.error('Error:', error));\n\n\t// Store username in localStorage\n\tlocalStorage.setItem('username', 'PDubb Solutions');\n\tconst username = localStorage.getItem('username');\n\tconsole.log(username);\n\n\t// Debounced scroll event\n\tfunction debounce(func, delay) {\n\t\tlet timeout;\n\t\treturn function (...args) {\n\t\t\tclearTimeout(timeout);\n\t\t\ttimeout = setTimeout(() => func.apply(this, args), delay);\n\t\t};\n\t}\n\n\twindow.addEventListener('scroll', debounce(() => {\n\t\tconsole.log('Scrolled!');\n\t}, 200));\n\n\t// Logout functionality\n\tdocument.getElementById('logoutButton').addEventListener('click', () => {\n\t\tlocalStorage.removeItem('authToken');\n\t\tlocalStorage.removeItem('userId');\n\t\twindow.location.href = 'login.php';\n\t});\n});\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}