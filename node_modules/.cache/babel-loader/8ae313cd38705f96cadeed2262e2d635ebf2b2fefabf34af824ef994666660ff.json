{"ast":null,"code":"const express=require('express');const{createTransport}=require('nodemailer');const{config}=require('dotenv');config();const app=express();document.addEventListener(\"DOMContentLoaded\",function(){const customRequestForm=document.querySelector(\"#requestDocument form\");const bookSessionForm=document.querySelector(\"#bookSession form\");const partnershipForm=document.querySelector(\"#requestPartnership form\");if(customRequestForm){customRequestForm.addEventListener(\"submit\",function(event){event.preventDefault();});}if(bookSessionForm){bookSessionForm.addEventListener(\"submit\",function(event){event.preventDefault();});}if(partnershipForm){partnershipForm.addEventListener(\"submit\",function(event){event.preventDefault();});}});const requestDocument=document.getElementById('requestDocument');const requestPartnership=document.getElementById('requestPartnership');const requestSession=document.getElementById('requestSession');if(requestDocument)requestDocument.classList.toggle('active');if(requestPartnership)requestPartnership.classList.toggle('active');if(requestSession)requestSession.classList.toggle('active');const header=document.querySelector('h1');header.textContent=\"Pdubbs Solutions\";document.querySelector('button').addEventListener('click',()=>{alert('Button Clicked!');});document.querySelector('form').addEventListener('submit',e=>{const name=document.querySelector('#name').value;if(name===\"\"){alert('Name is required');e.preventDefault();}});fetch('https://api.example.com/data').then(response=>response.json()).then(data=>console.log(data)).catch(error=>console.error('Error:',error));localStorage.setItem('username','PDubb Solutions');const username=localStorage.getItem('username');console.log(username);function debounce(func,delay){let timeout;return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}clearTimeout(timeout);timeout=setTimeout(()=>func.apply(this,args),delay);};}window.addEventListener('scroll',debounce(()=>{console.log('Scrolled!');},200));app.post('/bookSession',ensureAuthenticated,async(req,res)=>{const{email,name,date,time}=req.body;let transporter=createTransport({service:'Gmail',auth:{user:process.env.EMAIL_USER,pass:process.env.EMAIL_PASS}});const mailOptions={from:process.env.EMAIL_USER,to:email,subject:'Zoom 1:1 Session Booking',text:`Thank you ${name}, you have booked a session for ${date} at ${time}.`};transporter.sendMail(mailOptions,(error,info)=>{if(error){return res.status(500).send('Error booking session');}res.send('Session booked successfully');});});function ensureAuthenticated(req,res,next){if(req.isAuthenticated()){return next();}else{res.status(401).send('Unauthorized');}}app.post('/requestPartnership',ensureAuthenticated,(req,res)=>{const{companyName}=req.body;if(!companyName){return res.status(400).send('Company name is required');}res.send(`Partnership request received from ${companyName}`);});document.addEventListener(\"DOMContentLoaded\",function(){const navbar=document.getElementById(\"navbar\");navbar.innerHTML=`<a href=\"/dashboard\" class=\"home-button\">Home</a>`;});document.addEventListener(\"DOMContentLoaded\",function(){const links=document.querySelectorAll(\"a\");if(window.location.pathname.includes(\"accessibility\")){links.forEach(link=>link.classList.add(\"accessibility-link\"));}else{links.forEach(link=>link.classList.remove(\"accessibility-link\"));}});document.addEventListener(\"DOMContentLoaded\",function(){const navbar=document.getElementById(\"navbar\");navbar.innerHTML=`<a href=\"/public/app/index.php\" class=\"home-button\">Home</a>`;});window.onload=function(){const filterItems=document.querySelectorAll('.filter-item');filterItems.forEach(item=>{item.style.display='none';});};//*logout*\\\\\ndocument.getElementById('logoutButton').addEventListener('click',()=>{localStorage.removeItem('authToken');localStorage.removeItem('userId');window.location.href='login.php';});const PORT=process.env.PORT||5000;app.listen(PORT,()=>{console.log(`Server running on port ${PORT}`);});","map":{"version":3,"names":["express","require","createTransport","config","app","document","addEventListener","customRequestForm","querySelector","bookSessionForm","partnershipForm","event","preventDefault","requestDocument","getElementById","requestPartnership","requestSession","classList","toggle","header","textContent","alert","e","name","value","fetch","then","response","json","data","console","log","catch","error","localStorage","setItem","username","getItem","debounce","func","delay","timeout","_len","arguments","length","args","Array","_key","clearTimeout","setTimeout","apply","window","post","ensureAuthenticated","req","res","email","date","time","body","transporter","service","auth","user","process","env","EMAIL_USER","pass","EMAIL_PASS","mailOptions","from","to","subject","text","sendMail","info","status","send","next","isAuthenticated","companyName","navbar","innerHTML","links","querySelectorAll","location","pathname","includes","forEach","link","add","remove","onload","filterItems","item","style","display","removeItem","href","PORT","listen"],"sources":["C:/Users/PW Admin Solutions/source/repos/Pdubbs-final/src/index.mjs"],"sourcesContent":["const express = require('express');\nconst { createTransport } = require('nodemailer');\nconst { config } = require('dotenv');\n\nconfig();\n\n\nconst app = express();\n\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n\tconst customRequestForm = document.querySelector(\"#requestDocument form\");\n\tconst bookSessionForm = document.querySelector(\"#bookSession form\");\n\tconst partnershipForm = document.querySelector(\"#requestPartnership form\");\n\n\n\tif (customRequestForm) {\n\t\tcustomRequestForm.addEventListener(\"submit\", function (event) {\n\t\t\tevent.preventDefault();\n\n\t\t});\n\t}\n\n\tif (bookSessionForm) {\n\t\tbookSessionForm.addEventListener(\"submit\", function (event) {\n\t\t\tevent.preventDefault();\n\t\t});\n\t}\n\n\tif (partnershipForm) {\n\t\tpartnershipForm.addEventListener(\"submit\", function (event) {\n\t\t\tevent.preventDefault();\n\t\t});\n\t}\n});\n\n\tconst requestDocument = document.getElementById('requestDocument');\n\tconst requestPartnership = document.getElementById('requestPartnership');\n\tconst requestSession = document.getElementById('requestSession');\n\n\tif (requestDocument) requestDocument.classList.toggle('active');\n\tif (requestPartnership) requestPartnership.classList.toggle('active');\n\tif (requestSession) requestSession.classList.toggle('active');\n\n\nconst header = document.querySelector('h1');\nheader.textContent = \"Pdubbs Solutions\";\n\ndocument.querySelector('button').addEventListener('click', () => {\n\talert('Button Clicked!');\n});\n\ndocument.querySelector('form').addEventListener('submit', (e) => {\n\tconst name = document.querySelector('#name').value;\n\tif (name === \"\") {\n\t\talert('Name is required');\n\t\te.preventDefault();\n\t}\n});\n\nfetch('https://api.example.com/data')\n\t.then(response => response.json())\n\t.then(data => console.log(data))\n\t.catch(error => console.error('Error:', error));\n\nlocalStorage.setItem('username', 'PDubb Solutions');\nconst username = localStorage.getItem('username');\nconsole.log(username);\n\nfunction debounce(func, delay) {\n\tlet timeout;\n\treturn function (...args) {\n\t\tclearTimeout(timeout);\n\t\ttimeout = setTimeout(() => func.apply(this, args), delay);\n\t};\n}\n\nwindow.addEventListener('scroll', debounce(() => {\n\tconsole.log('Scrolled!');\n}, 200));\n\n\napp.post('/bookSession', ensureAuthenticated, async (req, res) => {\n\tconst { email, name, date, time } = req.body;\n\tlet transporter = createTransport({\n\t\tservice: 'Gmail',\n\t\tauth: {\n\t\t\tuser: process.env.EMAIL_USER,\n\t\t\tpass: process.env.EMAIL_PASS\n\t\t}\n\t});\n\tconst mailOptions = {\n\t\tfrom: process.env.EMAIL_USER,\n\t\tto: email,\n\t\tsubject: 'Zoom 1:1 Session Booking',\n\t\ttext: `Thank you ${name}, you have booked a session for ${date} at ${time}.`\n\t};\n\ttransporter.sendMail(mailOptions, (error, info) => {\n\t\tif (error) {\n\t\t\treturn res.status(500).send('Error booking session');\n\t\t}\n\t\tres.send('Session booked successfully');\n\t});\n});\n\nfunction ensureAuthenticated(req, res, next) {\n\tif(req.isAuthenticated()) { \n\t\treturn next();\n\t} else {\n\t\tres.status(401).send('Unauthorized');\n\t}\n}\n\napp.post('/requestPartnership', ensureAuthenticated, (req, res) => {\n\tconst { companyName } = req.body;\n\tif (!companyName) {\n\t\treturn res.status(400).send('Company name is required');\n\t}\n\tres.send(`Partnership request received from ${companyName}`);\n});\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n\tconst navbar = document.getElementById(\"navbar\");\n\tnavbar.innerHTML = `<a href=\"/dashboard\" class=\"home-button\">Home</a>`;\n});\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n\tconst links = document.querySelectorAll(\"a\");\n\tif (window.location.pathname.includes(\"accessibility\")) {\n\t\tlinks.forEach(link => link.classList.add(\"accessibility-link\"));\n\t} else {\n\t\tlinks.forEach(link => link.classList.remove(\"accessibility-link\"));\n\t}\n});\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n\tconst navbar = document.getElementById(\"navbar\");\n\tnavbar.innerHTML = `<a href=\"/public/app/index.php\" class=\"home-button\">Home</a>`;\n});\n\n\nwindow.onload = function () {\n\tconst filterItems = document.querySelectorAll('.filter-item');\n\tfilterItems.forEach(item => {\n\t\titem.style.display = 'none';\n\t});\n};\n\n//*logout*\\\\\ndocument.getElementById('logoutButton').addEventListener('click', () => {\n\tlocalStorage.removeItem('authToken');\n\tlocalStorage.removeItem('userId');\n\n\twindow.location.href = 'login.php';\n})\n\nconst PORT = process.env.PORT || 5000;\napp.listen(PORT, () => {\n\tconsole.log(`Server running on port ${PORT}`);\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}